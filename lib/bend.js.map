{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap cd8ed18e97bcec393fa6","webpack:///./src/bend.js","webpack:///./node_modules/@crhio/vector/lib/vector.min.js"],"names":["Bend","path","initialPosition","x","y","initialDirection","words","d","instructions","params","radius","pop","unshift","type","s","push","l","projectedLength","parseFloat","length","index","lengthToTangent","w","angle","br","i","Math","tan","abs","div","n","atan","p","neg","draw","barRadius","pen","instruction","commands","bendRadius","forward","position","add","direction","scale","bend","r","rotateDeg","sf","dist","sagitta","sqrt","svgParams","turn","cmdPt","invertParams","sp","slice","splice","prototype","list","split","stack","forEach","arg","cmds","newPen","newCommands","concat","segments","invertY","map","command","prev","segs","cmd","next","translation","subtract","midpoint","points","steps","reduce","termination","includes","lastStep","firstStep","sign","isTurn","print","moveto","lineto","arcto","join","init"],"mappings":"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","file":"bend.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"bend\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bend\"] = factory();\n\telse\n\t\troot[\"bend\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cd8ed18e97bcec393fa6","import Vector, { deg2rad, rad2deg } from '@crhio/vector';\n\n\nfunction Bend({\n  path = '',\n  initialPosition = { x: 0, y: 0 },\n  initialDirection = { x: 1, y: 0 },\n}) {\n  if (!(this instanceof Bend)) {\n    return new Bend({ path, initialPosition, initialDirection });\n  }\n\n  this.path = path;\n  this.initialPosition = Vector(initialPosition);\n  this.initialDirection = Vector(initialDirection);\n}\n\nconst words = {\n  d: ({ instructions, params }) => {\n    const radius = params.pop() / 2;\n    instructions.unshift({ type: 'barRadius', radius });\n    return { instructions, params };\n  },\n  s: ({ instructions, params }) => {\n    const radius = params.pop() / 2;\n    instructions.push({ type: 'bendRadius', radius });\n    return { instructions, params };\n  },\n  l: ({ instructions, params }) => {\n    const projectedLength = parseFloat(params.pop());\n    let length;\n    const index = instructions.length - 1;\n    if (instructions[index] && instructions[index].type === 'bend') {\n      length = projectedLength - instructions[index].lengthToTangent;\n    }\n    instructions.push({\n      type: 'forward',\n      length: length || projectedLength,\n      projectedLength,\n    });\n    return { instructions, params };\n  },\n  w: ({ instructions, params }) => {\n    const angle = params.pop();\n    const index = instructions.length - 1;\n\n    // Find bend radius, if any\n    let br = 0;\n    for (let i = index; i >= 0; i -= 1) {\n      if (instructions[i].type === 'bendRadius') {\n        br = instructions[i].radius;\n        break;\n      }\n    }\n\n    if (br === 0) {\n      // No bend radius results in a sharp turn\n      instructions.push({ type: 'turn', angle });\n    } else {\n      // Bend radius requires modification of neighboring straight segments\n      const lengthToTangent = br / Math.tan(deg2rad(180 - Math.abs(angle)) / 2);\n      instructions[index].length -= lengthToTangent;\n      instructions.push({ type: 'bend', angle, lengthToTangent, radius: br });\n    }\n\n    return { instructions, params };\n  },\n  div: ({ instructions, params }) => {\n    const d = params.pop();\n    const n = params.pop();\n    params.push(n / d);\n    return { instructions, params };\n  },\n  atan: ({ instructions, params }) => {\n    const p = params.pop();\n    params.push(rad2deg(Math.atan(p)));\n    return { instructions, params };\n  },\n  neg: ({ instructions, params }) => {\n    const p = params.pop();\n    params.push(-p);\n    return { instructions, params };\n  },\n};\n\nconst draw = {\n  barRadius: ({ pen, instruction }) => ({\n    pen: { ...pen, barRadius: instruction.radius },\n    commands: null,\n  }),\n  bendRadius: ({ pen, instruction }) => ({\n    pen: { ...pen, bendRadius: instruction.radius },\n    commands: null,\n  }),\n  forward: ({ pen, instruction }) => {\n    const position = pen.position\n      .add(pen.direction.scale(instruction.length));\n    return {\n      pen: { ...pen, position },\n      commands: [{ type: 'lineto', params: [position.x, position.y] }],\n    };\n  },\n  bend: ({ pen, instruction }) => {\n    const r = pen.bendRadius;\n    const direction = pen.direction.rotateDeg(instruction.angle);\n    const position = pen.position\n      .add(pen.direction.scale(instruction.lengthToTangent))\n      .add(direction.scale(instruction.lengthToTangent));\n    const sf = instruction.angle > 0 ? 1 : 0;\n    const l = Vector(pen.position).dist(position) / 2;\n    const sagitta = r - Math.sqrt(r * r - l * l);\n    return {\n      pen: { ...pen, position, direction },\n      commands: [{\n        type: 'arcto',\n        params: [position.x, position.y, sagitta / l],\n        svgParams: [r, r, 0, 0, sf, position.x, position.y],\n      }],\n    };\n  },\n  turn: ({ pen, instruction }) => ({\n    pen: { ...pen, direction: pen.direction.rotateDeg(-instruction.angle) },\n    commands: null,\n  }),\n};\n\nconst cmdPt = ({ type, params }) => {\n  switch (type) {\n    default:\n      return { x: params[0], y: params[1] };\n  }\n};\n\nconst invertParams = ({ type, params: p, svgParams: sp }) => {\n  const params = p.slice();\n  params.splice(1, 1, -p[1]);\n\n  if (type === 'arcto') {\n    return {\n      type,\n      params,\n      svgParams: [sp[0], sp[1], sp[2], sp[3], sp[4] ? 0 : 1, sp[5], -sp[6]],\n    };\n  }\n  return {\n    type,\n    params,\n  };\n};\n\nBend.prototype.list = function list() {\n  return this.path.split(' ');\n};\n\nBend.prototype.instructions = function instructions() {\n  let stack = {\n    instructions: [],\n    params: [],\n  };\n\n  this.list().forEach((arg) => {\n    if (words[arg]) {\n      stack = words[arg](stack);\n    } else {\n      stack.params.push(arg);\n    }\n  });\n\n  return stack.instructions;\n};\n\nBend.prototype.commands = function commands() {\n  let pen = {\n    position: this.initialPosition,\n    direction: this.initialDirection,\n  };\n\n  let cmds = [{ type: 'moveto', params: [pen.position.x, pen.position.y] }];\n\n  this.instructions().forEach((instruction) => {\n    const { pen: newPen, commands: newCommands } = draw[instruction.type]({ pen, instruction });\n    if (newCommands) cmds = cmds.concat(newCommands);\n    pen = newPen;\n  });\n\n  return cmds;\n};\n\nBend.prototype.segments = function segments({ invertY = false } = {}) {\n  const commands = invertY\n    ? this.commands().map(command => invertParams(command))\n    : this.commands();\n\n  let prev = cmdPt(commands[0]);\n  const segs = [];\n  commands.slice(1).forEach((cmd) => {\n    const next = cmdPt(cmd);\n    const translation = Vector(next).subtract(prev);\n    const midpoint = Vector(prev).add(translation.scale(0.5));\n    segs.push({ type: cmd.type, points: [prev, next], midpoint });\n    prev = { x: next.x, y: next.y };\n  });\n\n  return segs;\n};\n\nBend.prototype.steps = function steps() {\n  return this.instructions().reduce((s, instruction) => {\n    if (instruction.type === 'forward') {\n      s.push({\n        length: instruction.projectedLength,\n        termination: 'cut',\n      });\n    } else if (['bend', 'turn'].includes(instruction.type)) {\n      const lastStep = s[s.length - 1];\n      const firstStep = s[0];\n      lastStep.termination = 'bend';\n      lastStep.sign = Math.sign(instruction.angle);\n      lastStep.angle = Math.abs(instruction.angle);\n      const isTurn = firstStep && firstStep.termination === 'bend' && firstStep.sign !== lastStep.sign;\n      lastStep.turn = !!isTurn;\n    }\n\n    return s;\n  }, []);\n};\n\nBend.prototype.length = function length() {\n  return this.instructions().reduce((s, instruction) => {\n    if (instruction.type === 'forward') return s + instruction.length;\n    if (instruction.type === 'bend') {\n      return s + Math.abs(instruction.radius * deg2rad(instruction.angle));\n    }\n    return s;\n  }, 0);\n};\n\nBend.prototype.print = function print({ invertY = false } = {}) {\n  const cmds = {\n    moveto: 'M',\n    lineto: 'L',\n    arcto: 'A',\n  };\n\n  return this.commands()\n    .map((command) => {\n      let cmd = command;\n\n      if (invertY) {\n        cmd = invertParams(command);\n      }\n\n      const svgParams = cmd.type === 'arcto' ? cmd.svgParams : cmd.params;\n\n      return [cmds[command.type], ...svgParams].join(' ');\n    }).join(' ');\n};\n\nexport default function (init) {\n  return new Bend(init);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/bend.js","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(\"vector\",[],e):\"object\"==typeof exports?exports.vector=e():t.vector=e()}(\"undefined\"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e,n){\"use strict\";function r(t){return t*(Math.PI/180)}function o(t){return t*(180/Math.PI)}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.x,n=t.y;if(!(this instanceof i))return new i({x:e,y:n});this.x=e||0,this.y=n||0}function u(t){return new i(t)}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=u,e.deg2rad=r,e.rad2deg=o,i.prototype.cross=function(t){return this.x*t.y-this.y*t.x},i.prototype.dot=function(t){return this.x*t.x+this.y*t.y},i.prototype.divide=function(t){return new i({x:this.x/t.x,y:this.y/t.y})},i.prototype.magnitude=function(){return Math.sqrt(this.dot({x:this.x,y:this.y}))},i.prototype.length=function(){return this.magnitude()},i.prototype.add=function(t){return new i({x:this.x+t.x,y:this.y+t.y})},i.prototype.subtract=function(t){return new i({x:this.x-t.x,y:this.y-t.y})},i.prototype.scale=function(t){return new i({x:this.x*t,y:this.y*t})},i.prototype.multiplyScalar=function(t){return this.scale(t)},i.prototype.angle=function(){return Math.atan2(this.y,this.x)},i.prototype.angleDeg=function(){return o(this.angle())},i.prototype.reverse=function(){return new i({x:-this.x,y:-this.y})},i.prototype.invert=function(){return this.reverse()},i.prototype.normalize=function(){var t=this.magnitude();return t<=0?new i({x:0,y:0}):this.scale(1/t)},i.prototype.direction=function(t){var e=new i(t).subtract({x:this.x,y:this.y}),n=e.magnitude();return n<=0?new i({x:1,y:0}):e.scale(1/n)},i.prototype.equal=function(t){return this.x===t.x&&this.y===t.y},i.prototype.rotate=function(t){return new i({x:Math.cos(t)*this.x-Math.sin(t)*this.y,y:Math.sin(t)*this.x+Math.cos(t)*this.y})},i.prototype.rotateDeg=function(t){var e=r(t);return this.rotate(e)},i.prototype.dist=function(t){return this.subtract(t).magnitude()},i.prototype.distSq=function(t){var e=this.subtract(t);return e.dot({x:e.x,y:e.y})},i.prototype.clone=function(){return new i({x:this.x,y:this.y})},i.prototype.get=function(){return{x:this.x,y:this.y}}}])});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@crhio/vector/lib/vector.min.js\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}