!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("bend",[],n):"object"==typeof exports?exports.bend=n():t.bend=n()}("undefined"!=typeof self?self:this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n,e){"use strict";function r(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function i(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?r(Object(e),!0).forEach(function(n){o(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function u(t){var n=t.path,e=void 0===n?"":n,r=t.initialPosition,i=void 0===r?{x:0,y:0}:r,o=t.initialDirection,s=void 0===o?{x:1,y:0}:o;if(!(this instanceof u))return new u({path:e,initialPosition:i,initialDirection:s});this.path=e,this.initialPosition=(0,c.default)(i),this.initialDirection=(0,c.default)(s)}function s(t){return t*(Math.PI/180)}function a(t){return new u(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var c=function(t){return t&&t.__esModule?t:{default:t}}(e(1)),p={d:function(t){var n=t.instructions,e=t.params,r=e.pop()/2;return n.unshift({type:"barRadius",radius:r}),{instructions:n,params:e}},s:function(t){var n=t.instructions,e=t.params,r=e.pop()/2;return n.push({type:"bendRadius",radius:r}),{instructions:n,params:e}},l:function(t){var n=t.instructions,e=t.params,r=e.pop(),i=n.length-1;return n[i]&&"bend"===n[i].type&&(r-=n[i].lengthToTangent),n.push({type:"forward",length:r}),{instructions:n,params:e}},w:function(t){for(var n=t.instructions,e=t.params,r=e.pop(),i=n.length-1,o=0,u=i;u>=0;u-=1)if("bendRadius"===n[u].type){o=n[u].radius;break}if(0===o)n.push({type:"turn",angle:r});else{var a=o/Math.tan(s(180-Math.abs(r))/2);n[i].length-=a,n.push({type:"bend",angle:r,lengthToTangent:a})}return{instructions:n,params:e}},div:function(t){var n=t.instructions,e=t.params,r=e.pop(),i=e.pop();return e.push(i/r),{instructions:n,params:e}},atan:function(t){var n=t.instructions,e=t.params,r=e.pop();return e.push(Math.atan(r)),{instructions:n,params:e}},neg:function(t){var n=t.instructions,e=t.params,r=e.pop();return e.push(-r),{instructions:n,params:e}}},f={barRadius:function(t){var n=t.pen,e=t.instruction;return{pen:i(i({},n),{},{barRadius:e.radius}),d:null}},bendRadius:function(t){var n=t.pen,e=t.instruction;return{pen:i(i({},n),{},{bendRadius:e.radius}),d:null}},forward:function(t){var n=t.pen,e=t.instruction,r=n.position.add(n.direction.scale(e.length));return{pen:i(i({},n),{},{position:r}),d:"L ".concat(r.x," ").concat(r.y)}},bend:function(t){var n=t.pen,e=t.instruction,r=n.bendRadius,o=n.direction.rotateDeg(-e.angle),u=n.position.add(n.direction.scale(e.lengthToTangent)).add(o.scale(e.lengthToTangent)),s=-e.angle>0?1:0;return{pen:i(i({},n),{},{position:u,direction:o}),d:"A ".concat(r," ").concat(r," 0 0 ").concat(s," ").concat(u.x," ").concat(u.y)}},turn:function(t){var n=t.pen,e=t.instruction;return{pen:i(i({},n),{},{direction:n.direction.rotateDeg(-e.angle)}),d:null}}};u.prototype.list=function(){return this.path.split(" ")},u.prototype.instructions=function(){var t={instructions:[],params:[]};return this.list().forEach(function(n){p[n]?t=p[n](t):t.params.push(n)}),t.instructions},u.prototype.print=function(){var t={position:this.initialPosition,direction:this.initialDirection},n="M ".concat(t.position.x," ").concat(t.position.y);return this.instructions().forEach(function(e){var r=f[e.type]({pen:t,instruction:e}),i=r.pen,o=r.d;o&&(n+=" ".concat(o)),t=i}),n}},function(t,n,e){!function(n,e){t.exports=e()}("undefined"!=typeof self&&self,function(){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n,e){"use strict";function r(t){return t*(Math.PI/180)}function i(t){return t*(180/Math.PI)}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.x,e=t.y;if(!(this instanceof o))return new o({x:n,y:e});this.x=n||0,this.y=e||0}function u(t){return new o(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=u,n.deg2rad=r,n.rad2deg=i,o.prototype.cross=function(t){return this.x*t.y-this.y*t.x},o.prototype.dot=function(t){return this.x*t.x+this.y*t.y},o.prototype.divide=function(t){return new o({x:this.x/t.x,y:this.y/t.y})},o.prototype.magnitude=function(){return Math.sqrt(this.dot({x:this.x,y:this.y}))},o.prototype.length=function(){return this.magnitude()},o.prototype.add=function(t){return new o({x:this.x+t.x,y:this.y+t.y})},o.prototype.subtract=function(t){return new o({x:this.x-t.x,y:this.y-t.y})},o.prototype.scale=function(t){return new o({x:this.x*t,y:this.y*t})},o.prototype.multiplyScalar=function(t){return this.scale(t)},o.prototype.angle=function(){return Math.atan2(this.y,this.x)},o.prototype.angleDeg=function(){return i(this.angle())},o.prototype.reverse=function(){return new o({x:-this.x,y:-this.y})},o.prototype.invert=function(){return this.reverse()},o.prototype.normalize=function(){var t=this.magnitude();return t<=0?new o({x:0,y:0}):this.scale(1/t)},o.prototype.direction=function(t){var n=new o(t).subtract({x:this.x,y:this.y}),e=n.magnitude();return e<=0?new o({x:1,y:0}):n.scale(1/e)},o.prototype.equal=function(t){return this.x===t.x&&this.y===t.y},o.prototype.rotate=function(t){return new o({x:Math.cos(t)*this.x-Math.sin(t)*this.y,y:Math.sin(t)*this.x+Math.cos(t)*this.y})},o.prototype.rotateDeg=function(t){var n=r(t);return this.rotate(n)},o.prototype.dist=function(t){return this.subtract(t).magnitude()},o.prototype.distSq=function(t){var n=this.subtract(t);return n.dot({x:n.x,y:n.y})},o.prototype.clone=function(){return new o({x:this.x,y:this.y})},o.prototype.get=function(){return{x:this.x,y:this.y}}}])})}])});